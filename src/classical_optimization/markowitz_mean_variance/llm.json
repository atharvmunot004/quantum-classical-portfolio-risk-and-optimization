{
  "task": "markowitz_mean_variance_optimization",

  "design_principle": {
    "role": "classical_baseline",
    "paper_positioning": "Deterministic mean-variance benchmark used for comparative evaluation against Bayesian, tail-risk-aware, and quantum portfolio optimization frameworks.",
    "assumptions": {
      "return_distribution": "conditional_normal",
      "risk_measure": "variance",
      "estimation_error": "not explicitly modeled"
    }
  },

  "inputs": {
    "panel_price_path": "data/processed/panel_price.parquet",
    "return_type": "log",
    "portfolio_universe_path": "portfolios/portfolios.parquet",
    "portfolio_universe_semantics": "asset_set_only",
    "risk_free_rate": 0.0001
  },

  "markowitz_settings": {
    "objective": "min_variance",

    "objectives_supported": {
      "min_variance": {
        "exact": true,
        "formulation": "wTÎ£w"
      },
      "max_sharpe": {
        "exact": true,
        "solver_strategy": "convex_reformulation"
      },
      "risk_return_tradeoff": {
        "exact": true,
        "lambda_interpretation": "risk_aversion"
      }
    },

    "constraints": {
      "long_only": true,
      "fully_invested": true,
      "no_short_selling": true,
      "weight_bounds": [0.0, 1.0],
      "max_weight_per_asset": 0.25,
      "min_num_assets": 1
    },

    "covariance_estimation": {
      "method": "sample",
      "estimation_windows": [252],
      "shrinkage": {
        "use_shrinkage": true,
        "method": "ledoit_wolf"
      },
      "caching": {
        "enabled": true,
        "cache_key": "asset_universe_hash",
        "reuse_across_portfolios": true
      }
    },

    "expected_return_estimation": {
      "method": "historical_mean",
      "use_annualization": true,
      "caching": {
        "enabled": true,
        "cache_key": "asset_universe_hash",
        "reuse_across_portfolios": true
      }
    },

    "frontier_settings": {
      "compute_efficient_frontier": true,
      "method": "target_return_constraint",
      "num_portfolios": 100,
      "target_return_grid": "linspace",
      "exact_frontier": true
    },

    "optimization_solver": {
      "method": "quadratic_programming",
      "qp_backend": "osqp",
      "tolerance": 1e-6,
      "warm_start": true
    },

    "random_seed": 42
  },

  "modules": {
    "compute_daily_returns": true,

    "precompute_shared_statistics": {
      "enabled": true,
      "statistics": ["covariance_matrix", "expected_returns"]
    },

    "run_markowitz_optimizer": true,

    "generate_efficient_frontier": true,

    "metrics": {
      "portfolio_quality": true,
      "structure": true,
      "distribution": true,
      "risk": {
        "value_at_risk": {
          "method": "parametric_normal",
          "confidence_levels": [0.95, 0.99]
        },
        "conditional_value_at_risk": {
          "method": "parametric_normal"
        }
      }
    },

    "time_sliced_metrics": {
      "enabled": true,
      "slice_by": ["year"]
    },

    "runtime_metrics": {
      "enabled": true,
      "track": [
        "total_runtime_ms",
        "covariance_estimation_time_ms",
        "solver_time_ms"
      ]
    }
  },

  "performance_metrics": {
    "portfolio_quality": [
      "expected_return",
      "volatility",
      "portfolio_variance",
      "sharpe_ratio",
      "sortino_ratio",
      "max_drawdown",
      "calmar_ratio"
    ],
    "structure": [
      "num_assets_in_portfolio",
      "hhi_concentration",
      "effective_number_of_assets",
      "weight_entropy",
      "pairwise_correlation_mean"
    ],
    "risk_metrics": [
      "value_at_risk",
      "conditional_value_at_risk",
      "downside_deviation"
    ],
    "distribution_metrics": [
      "skewness",
      "kurtosis",
      "jarque_bera_p_value"
    ],
    "runtime": [
      "runtime_per_optimization_ms",
      "p95_runtime_ms",
      "covariance_estimation_time_ms",
      "solver_time_ms"
    ]
  },

  "report_sections": [
    "methodology_overview",
    "mean_variance_theory",
    "covariance_estimation",
    "efficient_frontier_construction",
    "portfolio_optimization_results",
    "risk_return_tradeoff_analysis",
    "portfolio_structure_effects",
    "robustness_checks",
    "computational_performance",
    "limitations_of_mean_variance",
    "key_insights"
  ],

  "outputs": {
    "optimal_portfolios": "results/classical_optimization/markowitz_optimal_weights.parquet",
    "efficient_frontier": "results/classical_optimization/markowitz_efficient_frontier.parquet",
    "metrics_table": "results/classical_optimization/markowitz_metrics.parquet",
    "metrics_schema_json": "results/classical_optimization/markowitz_metrics_schema.json",
    "summary_report": "results/classical_optimization/markowitz_report.md"
  }
}
